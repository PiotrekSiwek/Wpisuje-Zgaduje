[{"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\index.js":"1","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\App.js":"2","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\contexts\\LoginContext.js":"3","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\header\\Header.js":"4","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\footer\\Footer.js":"5","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\Main.js":"6","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\aside\\Aside.js":"7","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\Section.js":"8","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\game\\Game.js":"9","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\intro\\Intro.js":"10","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\services\\firebase.js":"11","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\game\\RandomPictures.js":"12","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\game\\AnswerBox.js":"13","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\game\\data\\apiData.js":"14","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\game\\data\\wordsData.js":"15"},{"size":199,"mtime":1608284397382,"results":"16","hashOfConfig":"17"},{"size":655,"mtime":1609184123001,"results":"18","hashOfConfig":"17"},{"size":980,"mtime":1609179252797,"results":"19","hashOfConfig":"17"},{"size":971,"mtime":1608295137589,"results":"20","hashOfConfig":"17"},{"size":340,"mtime":1609003766360,"results":"21","hashOfConfig":"17"},{"size":291,"mtime":1607526622389,"results":"22","hashOfConfig":"17"},{"size":1320,"mtime":1609001339685,"results":"23","hashOfConfig":"17"},{"size":485,"mtime":1609184235180,"results":"24","hashOfConfig":"17"},{"size":1626,"mtime":1608736879032,"results":"25","hashOfConfig":"17"},{"size":8534,"mtime":1609187858706,"results":"26","hashOfConfig":"17"},{"size":377,"mtime":1608111513087,"results":"27","hashOfConfig":"17"},{"size":1216,"mtime":1608739574397,"results":"28","hashOfConfig":"17"},{"size":6086,"mtime":1609187297732,"results":"29","hashOfConfig":"17"},{"size":146,"mtime":1607424985004,"results":"30","hashOfConfig":"17"},{"size":5345,"mtime":1608493132383,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1jaebrj",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\index.js",[],["64","65"],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\App.js",[],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\contexts\\LoginContext.js",[],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\header\\Header.js",[],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\footer\\Footer.js",[],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\Main.js",[],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\aside\\Aside.js",[],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\Section.js",[],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\game\\Game.js",[],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\intro\\Intro.js",["66"],"import React, {useState, useContext, useEffect} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nimport {firebaseConfig} from \"../../../../services/firebase.js\";\r\nimport {LoginContext} from \"../../../../contexts/LoginContext\";\r\n\r\nimport \"./intro.scss\";\r\n\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst auth = firebase.auth();\r\nconst db = firebase.firestore();\r\nlet docID = \"\";\r\nlet userID = \"\";\r\n\r\n\r\nconst Intro = () => {\r\n\r\n    const {handleLogin, addPoints, points, resetPoints, userName, userDocID} = useContext(LoginContext);\r\n\r\n\r\n    const [changeLoginLogoutButton, setChangeLoginLogoutButton] = useState(false);\r\n    const [showHideForm, setShowHideForm] = useState(false)\r\n    const [changeLoginToRegistryForm, setChangeLoginToRegistryForm] =useState(true);\r\n    const [signUpError, setSignUpError] = useState(false);\r\n    const [signInError, setSignInError] = useState(false);\r\n    const [showWelcomeMessage, setShowWelcomeMessage] = useState(false);\r\n\r\n    const [bannerRoll, setBannerRoll] = useState(0);\r\n\r\n    const [form, setForm] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\"\r\n    })\r\n\r\n    const handleInput = e => {\r\n        const {name, value} = e.target;\r\n        setForm(prevState => {\r\n            return {\r\n                ...prevState,\r\n                [name]: value\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleSignIn = () => {\r\n        const mail = form.email;\r\n        const password = form.password;\r\n        const promise = auth.signInWithEmailAndPassword(mail, password);\r\n        promise\r\n            .then(user => {\r\n                console.log(user);\r\n                userID = user.user.uid;\r\n                setSignInError(false);\r\n                db.collection(\"Players\")\r\n                    .get()\r\n                    .then(data => {\r\n                        console.log(data);\r\n                        const players = [];\r\n                        data.forEach(record => {\r\n                            const store = record.data()\r\n                            players.push(store)\r\n                        })\r\n                        console.log(players);\r\n                        const userData = players.filter(elm => elm.userId === userID);\r\n                        console.log(userData)\r\n                        docID = userData[0].docNumber;\r\n                        userDocID(docID);\r\n                        handleLogin(userData[0].name)\r\n                        addPoints(userData[0].points);\r\n                    })\r\n                    .catch(error => console.log(error))\r\n            })\r\n            .catch(e => {\r\n                console.log(e.message);\r\n                setSignInError(true);\r\n            });\r\n    }\r\n\r\n    const handleSignUp = () => {\r\n        if(form.name.length < 3){\r\n            return setSignUpError(true)\r\n        }\r\n        const mail = form.email;\r\n        const password = form.password;\r\n        const promise = auth.createUserWithEmailAndPassword(mail, password);\r\n        promise\r\n            .then(user => {\r\n                console.log(user.user.uid);\r\n                userID = user.user.uid;\r\n                setSignUpError(false)\r\n                db.collection(\"Players\")\r\n                    .add({\r\n                        userId: user.user.uid,\r\n                        email: form.email,\r\n                        name: form.name,\r\n                        points: 0\r\n                    }).then(data => {\r\n                    console.log(data.id);\r\n                    docID = data.id;\r\n                    userDocID(docID);\r\n                    console.log(docID);\r\n                    handleLogin(form.name);\r\n                })\r\n                    .catch(error => console.log(error))\r\n            })\r\n            .catch(e => {\r\n                console.log(e.message);\r\n                setSignUpError(true);\r\n            });\r\n    }\r\n\r\n    const handleSignOut = () => {\r\n        auth.signOut()\r\n            .then(() => {\r\n                handleLogin(\"login\");\r\n                savePoints()\r\n            })\r\n            .catch(e => console.log(e.message));\r\n    }\r\n\r\n\r\n    const savePoints = () => {\r\n        db.collection(\"Players\").doc(`${docID}`)\r\n            .update({\r\n                points: points,\r\n                docNumber: docID\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n\r\n    const handleShowLoginForm = () =>{\r\n        setShowHideForm(prevState=>!prevState)\r\n    }\r\n\r\n    const handleShowRegistryForm = () =>{\r\n        setChangeLoginToRegistryForm(prevState => !prevState);\r\n        setSignInError(false);\r\n        setSignUpError(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const loginStatus = auth.onAuthStateChanged(firebaseUser => {\r\n            if (firebaseUser) {\r\n                console.log(firebaseUser);\r\n                setChangeLoginLogoutButton(true);\r\n                setTimeout(()=>{\r\n                    setShowWelcomeMessage(true)\r\n                }, 800)\r\n                setForm({\r\n                    name: \"\",\r\n                    email: \"\",\r\n                    password: \"\"\r\n                });\r\n\r\n            } else {\r\n                console.log(\"nie zalogowany\");\r\n                setChangeLoginLogoutButton(false);\r\n                setForm({\r\n                    name: \"\",\r\n                    email: \"\",\r\n                    password: \"\"\r\n                })\r\n                setShowWelcomeMessage(false)\r\n                resetPoints();\r\n            }\r\n        });\r\n        return () => loginStatus();\r\n    }, [])\r\n\r\n\r\n    useEffect(()=>{\r\n        const time = setTimeout(()=>{\r\n            const banner = setInterval(() => {\r\n                    setBannerRoll(prevState => {\r\n                       if (prevState === 100) {\r\n                           clearInterval(banner)\r\n                       } else return  prevState +1\r\n                    });\r\n            }, 10)\r\n        },1000);\r\n        return()=> clearTimeout(time)\r\n    },[])\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"intro__title\">ZGADUJE & WPISUJE</h1>\r\n\r\n            <div className=\"intro__box__main-buttons\">\r\n                <button className=\"btn__login\" onClick={handleShowLoginForm}>Logowanie</button>\r\n                <Link to=\"/gra\" className=\"link__game\">Gra</Link>\r\n            </div>\r\n\r\n\r\n            {showHideForm &&\r\n            <div className=\"intro__form\">\r\n                <button className=\"form__btn\" onClick={handleShowRegistryForm}>{changeLoginToRegistryForm? \"Rejestracja\" : \"Logowanie\"}</button>\r\n                {showWelcomeMessage && <span className=\"form__welcome-message\">Witaj {userName}, kliknij Gramy</span>}\r\n\r\n                <form className=\"form\" onSubmit={(e => e.preventDefault())}>\r\n                    {!changeLoginToRegistryForm? <>\r\n                    <input placeholder=\"Imie...\" type=\"text\" name=\"name\" value={form.name} onChange={handleInput}/>\r\n                    <span className=\"form__validation\">{signUpError && \"Imię musi zawierać minimum 3 znaki\"}</span>\r\n                    </>\r\n                    : null}\r\n                    <input placeholder=\"Email...\" type=\"email\" name=\"email\" value={form.email} onChange={handleInput}/>\r\n                    <span className=\"form__validation\">{signUpError && \"Email musi zawierać @ i poprawną domenę\"} {signInError&&\"błędny login lub hasło\"}</span>\r\n                    <input placeholder=\"Hasło...\" type=\"password\" name=\"password\" value={form.password} onChange={handleInput}/>\r\n                    <div className=\"form__validation\">{signUpError && \"Hasło musi zawierać minimum 6 znaków\"} {signInError&&\"błędny login lub hasło\"}</div>\r\n\r\n                    {changeLoginToRegistryForm?<span>\r\n                    {changeLoginLogoutButton?\r\n                        <button className=\"form__btn sign-btn\" onClick={handleSignOut}>Wyloguj</button> :\r\n                        <button className=\"form__btn sign-btn\" onClick={handleSignIn}>Zaloguj</button>}</span> :\r\n\r\n                    <button className=\"form__btn sign-btn\" onClick={handleSignUp}>Zarejestruj</button>}\r\n                </form>\r\n\r\n            </div>}\r\n            {!showHideForm&&<>\r\n            <h2 className=\"intro__banner\" style={{height:`${bannerRoll}px`}}> Witaj w grze !!! </h2>\r\n            <h3 className=\"intro__banner\" style={{height:`${bannerRoll}px`}}>Zaloguj się i kliknij graj by rozpoczać</h3>\r\n                </>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Intro","D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\services\\firebase.js",[],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\game\\RandomPictures.js",[],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\game\\AnswerBox.js",["67"],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\game\\data\\apiData.js",[],"D:\\Piotrek\\CLab\\Projekty React\\Words Clab project\\zgaduje-wpisuje-app\\src\\componenets\\main\\section\\game\\data\\wordsData.js",[],{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":174,"column":8,"nodeType":"74","endLine":174,"endColumn":10,"suggestions":"75"},{"ruleId":"72","severity":1,"message":"73","line":112,"column":8,"nodeType":"74","endLine":112,"endColumn":10,"suggestions":"76"},"no-native-reassign",["77"],"no-negated-in-lhs",["78"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'resetPoints'. Either include it or remove the dependency array.","ArrayExpression",["79"],["80"],"no-global-assign","no-unsafe-negation",{"desc":"81","fix":"82"},{"desc":"81","fix":"83"},"Update the dependencies array to be: [resetPoints]",{"range":"84","text":"85"},{"range":"86","text":"85"},[5611,5613],"[resetPoints]",[3475,3477]]